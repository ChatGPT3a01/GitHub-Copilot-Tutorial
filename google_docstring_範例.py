def 計算學生總成績(科目成績字典, 加權比例=None):
    """計算學生的總成績，可選擇加權或平均計算。
    
    此函式接收科目成績字典，根據是否提供加權比例來計算總成績。
    若提供加權比例，則計算加權總分；否則計算平均分數。
    
    Args:
        科目成績字典 (dict): 包含科目名稱和分數的字典。
            鍵為科目名稱（str），值為分數（int 或 float）。
        加權比例 (dict, optional): 各科目的加權比例字典。
            鍵為科目名稱（str），值為權重（float）。
            權重總和應為 1.0。預設為 None，表示使用平均計算。
    
    Returns:
        float: 計算後的總成績。若使用加權則為加權總分，
            否則為平均分數。結果保留兩位小數。
    
    Raises:
        ValueError: 當科目成績字典為空時。
        ValueError: 當加權比例的科目與成績字典不匹配時。
        ValueError: 當加權比例總和不等於 1.0 時。
    
    Examples:
        計算平均成績：
        >>> 成績 = {"國文": 85, "數學": 90, "英文": 88}
        >>> 計算學生總成績(成績)
        87.67
        
        計算加權成績：
        >>> 成績 = {"國文": 85, "數學": 90, "英文": 88}
        >>> 權重 = {"國文": 0.3, "數學": 0.4, "英文": 0.3}
        >>> 計算學生總成績(成績, 權重)
        88.1
        
        處理不同科目數量：
        >>> 成績 = {"國文": 75, "數學": 82, "英文": 79, "社會": 88, "自然": 85}
        >>> 計算學生總成績(成績)
        81.8
    """
    # 檢查成績字典是否為空
    if not 科目成績字典:
        raise ValueError("科目成績字典不能為空")
    
    # 如果沒有提供加權比例，計算平均分數
    if 加權比例 is None:
        總分 = sum(科目成績字典.values())
        科目數 = len(科目成績字典)
        平均分數 = 總分 / 科目數
        return round(平均分數, 2)
    
    # 檢查加權比例的科目是否與成績字典匹配
    if set(加權比例.keys()) != set(科目成績字典.keys()):
        raise ValueError("加權比例的科目必須與成績字典的科目完全匹配")
    
    # 檢查權重總和是否為 1.0
    權重總和 = sum(加權比例.values())
    if not (0.99 <= 權重總和 <= 1.01):  # 允許浮點數誤差
        raise ValueError(f"加權比例總和必須為 1.0，目前為 {權重總和}")
    
    # 計算加權總分
    加權總分 = sum(科目成績字典[科目] * 加權比例[科目] 
                  for 科目 in 科目成績字典.keys())
    
    return round(加權總分, 2)


def 找出最高分科目(科目成績字典):
    """找出成績最高的科目。
    
    Args:
        科目成績字典 (dict): 包含科目名稱和分數的字典。
    
    Returns:
        tuple: 包含 (科目名稱, 分數) 的元組。
    
    Raises:
        ValueError: 當科目成績字典為空時。
    
    Examples:
        >>> 成績 = {"國文": 85, "數學": 95, "英文": 88}
        >>> 找出最高分科目(成績)
        ('數學', 95)
    """
    if not 科目成績字典:
        raise ValueError("科目成績字典不能為空")
    
    最高分科目 = max(科目成績字典.items(), key=lambda x: x[1])
    return 最高分科目


# 測試程式碼
if __name__ == "__main__":
    print("=== 測試範例 1: 計算平均成績 ===")
    學生成績1 = {"國文": 85, "數學": 90, "英文": 88}
    平均 = 計算學生總成績(學生成績1)
    print(f"科目成績: {學生成績1}")
    print(f"平均分數: {平均}")
    
    print("\n=== 測試範例 2: 計算加權成績 ===")
    學生成績2 = {"國文": 85, "數學": 90, "英文": 88}
    科目權重 = {"國文": 0.3, "數學": 0.4, "英文": 0.3}
    加權分數 = 計算學生總成績(學生成績2, 科目權重)
    print(f"科目成績: {學生成績2}")
    print(f"科目權重: {科目權重}")
    print(f"加權總分: {加權分數}")
    
    print("\n=== 測試範例 3: 找出最高分科目 ===")
    學生成績3 = {"國文": 75, "數學": 92, "英文": 79, "社會": 88, "自然": 85}
    最高分 = 找出最高分科目(學生成績3)
    print(f"科目成績: {學生成績3}")
    print(f"最高分科目: {最高分[0]}, 分數: {最高分[1]}")
    平均3 = 計算學生總成績(學生成績3)
    print(f"平均分數: {平均3}")
